{%- comment -%}
  ðŸ§° Shoppable image section
{%- endcomment -%}

{%- liquid
  assign section_heading = section.settings.section_heading | strip
  assign image = section.settings.image
  assign tooltip_link_text = section.settings.tooltip_link_text | strip_html
  assign text_color = section.settings.text_color
  
  assign heading = section.settings.heading | strip
  assign text = section.settings.text | strip
  assign button_label = section.settings.button_label | strip
  assign button_url = section.settings.button_url
  assign button_style = section.settings.button_style

  assign button_background_color = section.settings.button_background_color
  assign button_text_color = section.settings.button_text_color
  assign button_brightness = button_background_color | color_brightness
  assign button_brightness_mod = 'light-on-dark'
  if button_brightness > 127.5
    assign button_brightness_mod = 'dark-on-light'
  endif

  assign layout_class = ""
  if section.settings.desktop_image_placement == "first"
    assign layout_class = layout_class | append: " pxu-shoppable-image__inner--desktop-image-first"
  endif
  if section.settings.desktop_image_placement == "second"
    assign layout_class = layout_class | append: " pxu-shoppable-image__inner--desktop-image-second"
  endif
  if section.settings.desktop_image_width == "100"
    assign layout_class = layout_class | append: " pxu-shoppable-image__inner--desktop-stack"
  endif
-%}        

<section
  id="{{ section.id }}"
  class="
    pxu-section
    pxu-section--animated-{{ section.settings.enable_animations }}
    pxu-shoppable-image
  "
  style="
    --pxu-section-heading-size: {{ section.settings.section_heading_size }}px;
    --pxu-section-heading-size-mobile: {{ section.settings.section_heading_size_mobile }}px;
    --pxu-section-text-color: {{ text_color }};
    --pxu-section-background-color: {{ section.settings.background_color }};
    --pxu-section-placeholder-fill-color: {{ text_color | color_modify: 'alpha', 0.35 }};
    --pxu-section-placeholder-background-color: {{ text_color | color_modify: 'alpha', 0.15 }};
    --pxu-section-padding-top: {{ section.settings.padding_top }}px;
    --pxu-section-padding-bottom: {{ section.settings.padding_bottom }}px;
    --pxu-section-margin-top: {{ section.settings.margin_top }}px;
    --pxu-section-margin-bottom: {{ section.settings.margin_bottom }}px;
    --pxu-section-desktop-content-alignment: {{ section.settings.desktop_content_alignment }};
    --pxu-section-mobile-content-alignment: {{ section.settings.mobile_content_alignment }};
    --pxu-section-desktop-image-width: {{ section.settings.desktop_image_width }};
    --pxu-section-desktop-content-width: {{ 100 | minus: section.settings.desktop_image_width }}%;
    --pxu-section-mobile-image-placement: {{ section.settings.mobile_image_placement }};
    --pxu-section-tooltip-color: {{ section.settings.tooltip_color }};
    --pxu-section-tooltip-background-color: {{ section.settings.tooltip_background_color }};
    --pxu-section-tooltip-link-color: {{ section.settings.tooltip_link_color }};
    --pxu-heading-size: {{ section.settings.heading_size }}px;
    --pxu-heading-size-mobile: {{ section.settings.heading_size_mobile }}px;
    --pxu-text-size: {{ section.settings.text_size }}px;
    --pxu-text-size-mobile: {{ section.settings.text_size_mobile }}px;
  "
  data-pxu-shoppable-image
>
  <script
    type="application/json"
    data-component-data
  >
    {
      "id": "{{ section.id }}",
      "handle": "pxu-shoppable-image",
      "className": "ShoppableImageSection",
      "name": "Shoppable image",
      "version": "1.0.3",
      "scriptsUrl": "{{ 'scripts.js' | asset_url | replace: '/assets/', '/compiled_assets/' }}"
    }
  </script>

  <div class="pxu-section__container pxu-shoppable-image__container">
    {%- if section_heading != blank -%}
      <h2 class="pxu-section__section-heading pxu-shoppable-image__section-heading">
        {{ section_heading }}
      </h2>
    {%- endif -%}

    <div class="pxu-shoppable-image__inner {{ layout_class }}">

      <div class="pxu-shoppable-image__interface" data-pxu-shoppable-image-interface>
        {%- if image -%}
          {{- image | image_url: width: 1200 | image_tag: class: 'pxu-shoppable-image__image' -}}
        {%- else -%}
          <div class="pxu-shoppable-image__image">
            {{- 'image' | placeholder_svg_tag: 'pxu-placeholder' -}}
          </div>
        {%- endif -%}

        {% for block in section.blocks %}
          {% assign product = block.settings.product %}
          {% unless product %}{% continue %}{% endunless %}
          <div
            id="{{ block.id }}"
            class="pxu-shoppable-image__hotspot"
            style="
              --pxu-section-horizontal-axis-base: {{ block.settings.horizontal_axis }};
              --pxu-section-horizontal-axis: {{ block.settings.horizontal_axis }};
              --pxu-section-vertical-axis-base: {{ block.settings.vertical_axis }};
              --pxu-section-vertical-axis: {{ block.settings.vertical_axis }};
            "
            data-pxu-shoppable-image-hotspot
            tabindex="-1"
            {{ block.shopify_attributes }}
          >
            <button
              class="pxu-shoppable-image__pin"
              aria-label="{{ product.title }}"
              data-pxu-shoppable-image-pin
            >
              {{ product.title }}
            </button>
            <div
              id="{{ block.id }}__tooltip"
              class="pxu-shoppable-image__tooltip"
              data-pxu-shoppable-image-tooltip
            >
              {% if product != blank %}
                {% if product.featured_image %}
                  {{ product.featured_image | image_url: width: 80 | image_tag: class: 'pxu-shoppable-image__tooltip-thumbnail' }}
                {% else %}
                  <div class="pxu-shoppable-image__tooltip-thumbnail">
                    {{- 'image' | placeholder_svg_tag: 'pxu-placeholder' -}}
                  </div>
                {% endif %}
                <div class="pxu-shoppable-image__tooltip-content">
                  {% if product.title != blank %}
                    <p class="pxu-shoppable-image__tooltip-title">
                      {{ product.title }}
                    </p>
                  {% endif %}
                  {% if product.price != blank %}
                    <p class="pxu-shoppable-image__tooltip-price">
                      {{ product.price | money }}
                    </p>
                  {% endif %}
                  {% if tooltip_link_text != blank %}
                    <a class="pxu-shoppable-image__tooltip-link" href="{{ product.url }}">
                      {{ tooltip_link_text }}
                    </a>
                  {% endif %}
                </div>

              {% else %}
                <div class="pxu-shoppable-image__tooltip-thumbnail">
                  {{- 'image' | placeholder_svg_tag: 'pxu-placeholder' -}}
                </div>
                <div class="pxu-shoppable-image__tooltip-content">
                  <p class="pxu-shoppable-image__tooltip-title">Product</p>
                  <p class="pxu-shoppable-image__tooltip-price">$19.99</p>
                  {% if tooltip_link_text != blank %}
                    <a class="pxu-shoppable-image__tooltip-link" href="{{ product.url }}">
                      {{ tooltip_link_text }}
                    </a>
                  {% endif %}
                </div>
              {% endif %}
            </div>
          </div>
        {% endfor %}
      </div>

      <div class="pxu-shoppable-image__content">
        {% if heading != blank %}
          <h3 class="pxu-shoppable-image__heading pxu-heading">
            {{ heading }}
          </h3>
        {% endif %}
        {% if text != blank %}
          <div class="pxu-shoppable-image__text pxu-rte">
            {{ text }}
          </div>
        {% endif %}
        {% if button_label != blank %}
          <div class="pxu-shoppable-image__btn">
            <a
              class="
                pxu-btn
                pxu-btn--{{ button_style }}
                pxu-btn--{{ button_brightness_mod }}
              "
              style="
                --pxu-btn-background-color: {{ button_background_color }};
                --pxu-btn-text-color: {{ button_text_color }};
              "
              href="{{ button_url }}"
            >
              {{- button_label -}}
            </a>
          </div>
        {% endif %}
      </div>

    </div>
  </div>
</section>

<style type="text/css">
.pxu-section{--pxu-current-bp:"xxs"}@media only screen and (min-width:480px){.pxu-section{--pxu-current-bp:"xs"}}@media only screen and (min-width:720px){.pxu-section{--pxu-current-bp:"small"}}@media only screen and (min-width:860px){.pxu-section{--pxu-current-bp:"medium"}}@media only screen and (min-width:1024px){.pxu-section{--pxu-current-bp:"large"}}.pxu-section.pxu-shoppable-image,.shopify-section.shopify-section--shoppable-image{overflow:initial}.pxu-shoppable-image{--pxu-section-pin-width:30px;background-color:var(--pxu-section-background-color);color:var(--pxu-section-text-color);margin-bottom:calc(var(--pxu-section-margin-bottom, 0)*.75);margin-top:calc(var(--pxu-section-margin-top, 0)*.75);padding:calc(var(--pxu-section-padding-top, 0)*.75) var(--pxu-space-4) calc(var(--pxu-section-padding-bottom, 0)*.75)}@media only screen and (min-width:480px){.pxu-shoppable-image{margin-bottom:var(--pxu-section-margin-bottom,0);margin-top:var(--pxu-section-margin-top,0);padding:var(--pxu-section-padding-top,0) var(--pxu-space-6) var(--pxu-section-padding-bottom,0)}}.pxu-shoppable-image__inner{display:flex;flex-direction:var(--pxu-section-mobile-image-placement);gap:var(--pxu-space-8)}@media only screen and (min-width:860px){.pxu-shoppable-image__inner{align-items:center;flex-direction:row;gap:0}.pxu-shoppable-image__inner--desktop-image-second{flex-direction:row-reverse}.pxu-shoppable-image__inner--desktop-stack{flex-direction:column;gap:var(--pxu-space-8)}.pxu-shoppable-image__inner--desktop-stack.pxu-shoppable-image__inner--desktop-image-second{flex-direction:column-reverse}}.pxu-shoppable-image__interface{line-height:0;position:relative}@media only screen and (min-width:860px){.pxu-shoppable-image__interface{width:calc(var(--pxu-section-desktop-image-width)*1%)}}.pxu-shoppable-image__image{height:auto;width:100%}.pxu-shoppable-image__content{text-align:var(--pxu-section-mobile-content-alignment)}@media only screen and (min-width:860px){.pxu-shoppable-image__content{padding:0 var(--pxu-space-8);text-align:var(--pxu-section-desktop-content-alignment);width:var(--pxu-section-desktop-content-width)}.pxu-shoppable-image__inner--desktop-stack .pxu-shoppable-image__content{max-width:650px;padding:0;width:100%}}@media only screen and (min-width:1024px){.pxu-shoppable-image__content{padding:0 var(--pxu-space-12)}}.pxu-shoppable-image__text{font-size:var(--pxu-text-size-mobile);margin:0 0 var(--pxu-space-5) 0}.pxu-shoppable-image__text:last-child{margin-bottom:0}@media only screen and (min-width:860px){.pxu-shoppable-image__text{font-size:var(--pxu-text-size)}}.pxu-shoppable-image__heading{font-size:var(--pxu-heading-size-mobile)}@media only screen and (min-width:860px){.pxu-shoppable-image__heading{font-size:var(--pxu-heading-size)}}.pxu-shoppable-image__btn:not(:first-child){padding-top:var(--pxu-space-3)}.pxu-shoppable-image__hotspot{left:calc(1%*var(--pxu-section-horizontal-axis) + var(--pxu-section-pin-width)/2);margin-left:calc(var(--pxu-section-pin-width)/-2);margin-top:calc(var(--pxu-section-pin-width)/-2);position:absolute;top:calc(1%*var(--pxu-section-vertical-axis) + var(--pxu-section-pin-width)/2)}.pxu-shoppable-image__hotspot:has(.pxu-shoppable-image__pin:hover),.pxu-shoppable-image__hotspot:hover{padding-bottom:var(--pxu-space-2)}.pxu-shoppable-image__pin{animation:pxu-pulse .8s ease-in-out .1s infinite alternate both running;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:rgba(0,0,0,.4);border:0;border-radius:50%;cursor:pointer;display:block;font-size:0;height:var(--pxu-section-pin-width);outline:none;padding:0;position:relative;transition:transform .15s cubic-bezier(.4,0,.2,1);transition-property:background-color box-shadow;width:var(--pxu-section-pin-width)}.pxu-shoppable-image__pin:before{background-color:#fff;border-radius:50%;content:"";display:block;height:calc(var(--pxu-section-pin-width)/2);left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);transform-origin:center center;transition:transform .15s cubic-bezier(.4,0,.2,1);width:calc(var(--pxu-section-pin-width)/2)}.pxu-shoppable-image__pin:active:before{transform:translate(-50%,-50%) scale(.6)!important}.pxu-shoppable-image__hotspot--open .pxu-shoppable-image__pin,.pxu-shoppable-image__hotspot:focus-within .pxu-shoppable-image__pin{animation-play-state:paused;background-color:rgba(0,0,0,.6);box-shadow:inset 0 0 0 2px #fff,0 1px 4px rgba(0,0,0,.15)}.pxu-shoppable-image__hotspot--open .pxu-shoppable-image__pin:before,.pxu-shoppable-image__hotspot:focus-within .pxu-shoppable-image__pin:before{transform:translate(-50%,-50%) scale(.7)}@media (pointer:fine){.pxu-shoppable-image__hotspot:hover:not(.pxu-shoppable-image__hotspot--closed) .pxu-shoppable-image__pin,.pxu-shoppable-image__hotspot:not(.pxu-shoppable-image__hotspot--closed) .pxu-shoppable-image__pin:hover{animation-play-state:paused;background-color:rgba(0,0,0,.6);box-shadow:inset 0 0 0 2px #fff,0 1px 4px rgba(0,0,0,.15)}.pxu-shoppable-image__hotspot:hover:not(.pxu-shoppable-image__hotspot--closed) .pxu-shoppable-image__pin:before,.pxu-shoppable-image__hotspot:not(.pxu-shoppable-image__hotspot--closed) .pxu-shoppable-image__pin:hover:before{transform:translate(-50%,-50%) scale(.7)}}.pxu-shoppable-image__tooltip{--pxu-width:250px;--pxu-horizontal-factor:var(--pxu-section-horizontal-axis) /100;--pxu-100vw:100vw;--pxu-section-margin:var(--pxu-space-4);--pxu-isw:calc(var(--pxu-100vw) - var(--pxu-section-margin)*2);--pxu-iwf:(var(--pxu-section-desktop-image-width)/100);--pxu-iw:calc(var(--pxu-100vw) - var(--pxu-section-margin)*2);--pxu-flush-left:calc(var(--pxu-horizontal-factor)*-1*var(--pxu-iw) - var(--pxu-section-pin-width)/2);--pxu-transform-x-min:calc(var(--pxu-flush-left) + var(--pxu-section-margin));--pxu-transform-x-max:calc(var(--pxu-flush-left) + var(--pxu-isw) - var(--pxu-width) - var(--pxu-section-margin));--pxu-transform-x-function:clamp(var(--pxu-transform-x-min),-50%,var(--pxu-transform-x-max));align-items:start;background-color:var(--pxu-section-tooltip-background-color);border:1px solid hsla(0,0%,50%,.16);box-shadow:0 1px 4px #8080801c;color:var(--pxu-section-tooltip-color);display:flex;gap:var(--pxu-space-4);left:calc(var(--pxu-section-pin-width)/2);min-width:var(--pxu-space-20);opacity:0;padding:var(--pxu-space-4);pointer-events:none;position:absolute;top:calc(var(--pxu-section-pin-width) + var(--pxu-space-2));transform:translate(var(--pxu-transform-x-function),calc(var(--pxu-space-4)*-1));transition:opacity .2s,transform .2s;transition-delay:75ms;width:var(--pxu-width);z-index:1}.pxu-shoppable-image__hotspot--open .pxu-shoppable-image__tooltip,.pxu-shoppable-image__hotspot:focus-within .pxu-shoppable-image__tooltip{opacity:1;pointer-events:all;transform:translateX(var(--pxu-transform-x-function))}.pxu-shoppable-image__tooltip a{color:var(--pxu-section-tooltip-link-color);text-decoration:none}.pxu-shoppable-image__tooltip a:hover{text-decoration:underline}@media only screen and (min-width:480px){.pxu-shoppable-image__tooltip{--pxu-section-margin:var(--pxu-space-6)}}@media only screen and (min-width:860px){.pxu-shoppable-image__tooltip{--pxu-width:280px;--pxu-iw:(var(--pxu-iwf) * var(--pxu-isw));--pxu-iolw:var(--pxu-horizontal-factor) * var(--pxu-iw);--pxu-cw:((1 - var(--pxu-iwf)) * var(--pxu-isw));--pxu-flush-left:calc((var(--pxu-iolw) + (var(--pxu-section-pin-width)/2))*-1);--pxu-transform-x-min:calc(var(--pxu-flush-left) + var(--pxu-section-margin));--pxu-transform-x-max:calc(var(--pxu-flush-left) + var(--pxu-iw) - var(--pxu-width) - var(--pxu-section-margin))}.pxu-shoppable-image__inner--desktop-image-first .pxu-shoppable-image__tooltip{--pxu-flush-left:calc((var(--pxu-iolw) + (var(--pxu-section-pin-width)/2))*-1);--pxu-transform-x-max:calc(var(--pxu-flush-left) + var(--pxu-iw) - var(--pxu-width) - var(--pxu-section-margin))}}@media (pointer:fine){.pxu-shoppable-image__hotspot--open .pxu-shoppable-image__tooltip,.pxu-shoppable-image__hotspot:focus-within .pxu-shoppable-image__tooltip,.pxu-shoppable-image__hotspot:hover:not(.pxu-shoppable-image__hotspot--closed) .pxu-shoppable-image__tooltip,.pxu-shoppable-image__tooltip:hover{opacity:1;pointer-events:all;transform:translateX(var(--pxu-transform-x-function))}}@media only screen and (min-width:860px){@media (max-color:2147477350) and (pointer:fine){.pxu-shoppable-image__hotspot--open .pxu-shoppable-image__tooltip,.pxu-shoppable-image__hotspot:focus-within .pxu-shoppable-image__tooltip,.pxu-shoppable-image__hotspot:hover:not(.pxu-shoppable-image__hotspot--closed) .pxu-shoppable-image__tooltip,.pxu-shoppable-image__tooltip:hover{transform:translateX(var(--pxu-transform-x-function))}}}@media not screen and (min-width:860px){@media (color:2147477350) and (pointer:fine){.pxu-shoppable-image__hotspot--open .pxu-shoppable-image__tooltip,.pxu-shoppable-image__hotspot:focus-within .pxu-shoppable-image__tooltip,.pxu-shoppable-image__hotspot:hover:not(.pxu-shoppable-image__hotspot--closed) .pxu-shoppable-image__tooltip,.pxu-shoppable-image__tooltip:hover{transform:translateX(var(--pxu-transform-x-function))}}}.pxu-shoppable-image__tooltip-thumbnail{max-width:100%;width:80px}.pxu-shoppable-image__tooltip-content{font-size:14px;line-height:1.2}.pxu-shoppable-image__tooltip-link,.pxu-shoppable-image__tooltip-price,.pxu-shoppable-image__tooltip-title{margin:var(--pxu-space-2) 0 0}.pxu-shoppable-image__tooltip-title{font-size:16px;margin-top:0}.pxu-shoppable-image__tooltip-link{display:inline-block}</style>
{% javascript %}
const { Section } = window.PxuThemeSections;
const { debounce } = window.PxuUtils;

class Hotspot {
  OPEN_CLASS = "pxu-shoppable-image__hotspot--open";
  CLOSE_CLASS = "pxu-shoppable-image__hotspot--closed";

  constructor($el) {
    this.$hotspot = $el;
    this.$pin = $el.querySelector('[data-pxu-shoppable-image-pin]');
    this.isOpen = false;
  }

  open() {
    this.isOpen = true;
    this.$hotspot.classList.add(this.OPEN_CLASS);
  }

  close() {
    this.isOpen = false;
    this.$hotspot.classList.remove(this.OPEN_CLASS);
    this.$hotspot.classList.add(this.CLOSE_CLASS);
    setTimeout(() => {
      this.$hotspot.classList.remove(this.CLOSE_CLASS);
    }, 2000);
  }
}

class ShoppableImageSection extends Section {
  PIN_WIDTH = 30;

  constructor($root) {
    super($root);
    this.$root = $root;
    this.$interface = this.query('[data-pxu-shoppable-image-interface]');
    this.$hotspots = this.queryAll('[data-pxu-shoppable-image-hotspot]');
    this.$tooltips = this.queryAll('[data-pxu-shoppable-image-tooltip]');
    this.hotspots = [...this.$hotspots].map(($el) => new Hotspot($el));
    this.id = $root.id;
    this.data = this.loadData();

    this.onMount();
  }

  onMount() {
    this.initEventListeners();
    this.updateTooltipVw();
    this.updateHotspotAxes();
  }

  onUnmount() {
    this.events.unregisterAll();
  }

  initEventListeners() {
    this.hotspots.forEach((hotspot) => {
      this.events.register(hotspot.$hotspot, 'focusout', (e) => {
        this.handleHotspotFocusOut(e, hotspot);
      });
      this.events.register(hotspot.$pin, 'click', (e) => this.handlePinClick(e, hotspot));
    });
    this.events.register(window, 'resize', debounce(
      () => {
        this.updateTooltipVw();
        this.updateHotspotAxes();
      },
      200
    ));
  }

  handlePinClick(event, hotspot) {
    this.toggleTooltip(hotspot);
  }

  handleHotspotFocusOut(event, hotspot) {
    if (hotspot.$hotspot.contains(event.relatedTarget)) return;
    hotspot.$pin.dataset.timer = setTimeout(() => {
      hotspot.close();
    }, 0);
  }

  updateTooltipVw() {
    this.$tooltips.forEach(($tooltip) => {
      const vw = this.$root.offsetWidth;
      $tooltip.style.setProperty('--pxu-100vw', `${vw}px`);
    });
  }

  updateHotspotAxes() {
    this.$hotspots.forEach(($hotspot) => {
      let hAxis = $hotspot.style.getPropertyValue('--pxu-section-horizontal-axis-base');
      const interfaceWidth = this.$interface.offsetWidth;
      const pinWidth = this.PIN_WIDTH;
      const subAreaWidthFactor = (interfaceWidth - (pinWidth)) / interfaceWidth;
      hAxis = hAxis * subAreaWidthFactor;

      let vAxis = $hotspot.style.getPropertyValue('--pxu-section-vertical-axis-base');
      const interfaceHeight = this.$interface.offsetHeight;
      const pinHeight = this.PIN_WIDTH;
      const subAreaHeightFactor = (interfaceHeight - (pinHeight)) / interfaceHeight;
      vAxis = vAxis * subAreaHeightFactor;
      
      $hotspot.style.setProperty('--pxu-section-horizontal-axis', hAxis);
      $hotspot.style.setProperty('--pxu-section-vertical-axis', vAxis);
    });
  }

  toggleTooltip(hotspot) {
    if (hotspot.isOpen) {
      hotspot.$pin.blur();
      hotspot.close();
    } else {
      this.closeAllHotspots();
      hotspot.open();
    }
  }

  closeAllHotspots() {
    this.hotspots.forEach((hotspot) => hotspot.close());
  }

  onBlockSelect(event) {
    const { blockId } = event.detail;
    const hotspot = this.hotspots.find((hotspot) => hotspot.$hotspot.id === blockId);
    if (hotspot) hotspot.open();
  }

  onBlockDeselect(event) {
    const { blockId } = event.detail;
    const hotspot = this.hotspots.find((hotspot) => hotspot.$hotspot.id === blockId);
    if (hotspot) hotspot.close();
  }
}

document.querySelectorAll(`[data-pxu-shoppable-image]`).forEach(($section) => {
  Section.init($section, ShoppableImageSection);
});

// export for theme editor instance management
if (Shopify.designMode) {
  window.PxuThemeSections.ShoppableImageSection = ShoppableImageSection;
}
{% endjavascript %}
{% schema %}
{
  "name": "t:pxu_sections.sections.shoppable_image.name",
  "class": "pxu-shoppable-image-section",
  "settings": [
    {
      "type": "inline_richtext",
      "id": "section_heading",
      "label": "t:pxu_sections.common.heading.section_heading",
      "default": "t:pxu_sections.sections.shoppable_image.section_heading"
    },
    {
      "type": "range",
      "id": "section_heading_size",
      "min": 16,
      "max": 100,
      "step": 1,
      "unit": "px",
      "label": "t:pxu_sections.common.heading.heading_size",
      "default": 40
    },
    {
      "type": "range",
      "id": "section_heading_size_mobile",
      "min": 16,
      "max": 64,
      "step": 1,
      "unit": "px",
      "label": "t:pxu_sections.common.heading.heading_size_mobile",
      "default": 30
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "t:pxu_sections.common.image.image"
    },
    {
      "type": "select",
      "id": "desktop_image_width",
      "label": "t:pxu_sections.common.image.desktop_image_width",
      "options": [
        {
          "value": "50",
          "label": "t:pxu_sections.common.content_width.half"
        },
        {
          "value": "66.66",
          "label": "t:pxu_sections.common.content_width.two_thirds"
        },
        {
          "value": "100",
          "label": "t:pxu_sections.common.content_width.full_width"
        }
      ],
      "default": "66.66"
    },
    {
      "type": "select",
      "id": "desktop_image_placement",
      "label": "t:pxu_sections.common.image.desktop_image_placement",
      "options": [
        {
          "value": "first",
          "label": "t:pxu_sections.common.image.image_first"
        },
        {
          "value": "second",
          "label": "t:pxu_sections.common.image.image_second"
        }
      ],
      "default": "second"
    },
    {
      "type": "text",
      "id": "tooltip_link_text",
      "label": "t:pxu_sections.sections.shoppable_image.tooltip_link_text.label",
      "default": "t:pxu_sections.sections.shoppable_image.tooltip_link_text.default"
    },
    {
      "type": "header",
      "content": "t:pxu_sections.common.text.content"
    },
    {
      "type": "inline_richtext",
      "id": "heading",
      "label": "t:pxu_sections.common.heading.name",
      "default": "t:pxu_sections.sections.shoppable_image.heading"
    },

    {
      "type": "range",
      "id": "heading_size",
      "min": 16,
      "max": 100,
      "step": 1,
      "unit": "px",
      "label": "t:pxu_sections.common.heading.heading_size",
      "default": 28
    },
    {
      "type": "range",
      "id": "heading_size_mobile",
      "min": 16,
      "max": 64,
      "step": 1,
      "unit": "px",
      "label": "t:pxu_sections.common.heading.heading_size_mobile",
      "default": 24
    },
    {
      "type": "richtext",
      "id": "text",
      "label": "t:pxu_sections.common.text.name",
      "default": "t:pxu_sections.sections.shoppable_image.text"
    },
    {
      "type": "range",
      "id": "text_size",
      "min": 12,
      "max": 32,
      "step": 1,
      "unit": "px",
      "label": "t:pxu_sections.common.text.text_size",
      "default": 16
    },
    {
      "type": "range",
      "id": "text_size_mobile",
      "min": 12,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "t:pxu_sections.common.text.text_size_mobile",
      "default": 16
    },
    {
      "type": "text",
      "id": "button_label",
      "label": "t:pxu_sections.common.button.label",
      "default": "t:pxu_sections.common.button.button"
    },
    {
      "type": "url",
      "id": "button_url",
      "label": "t:pxu_sections.common.button.link"
    },
    {
      "type": "select",
      "id": "button_style",
      "label": "t:pxu_sections.common.button.style",
      "options": [
        {
          "value": "fill",
          "label": "t:pxu_sections.common.button.fill"
        },
        {
          "value": "outline",
          "label": "t:pxu_sections.common.button.outline"
        }
      ],
      "default": "fill"
    },
    {
      "type": "color",
      "id": "button_background_color",
      "label": "t:pxu_sections.common.color.background_color",
      "info": "t:pxu_sections.common.button.background_color_info",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "button_text_color",
      "label": "t:pxu_sections.common.color.text_color",
      "default": "#FFFFFF"
    },
    {
      "type": "select",
      "id": "desktop_content_alignment",
      "label": "t:pxu_sections.common.layout.desktop_content_alignment",
      "options": [
        {
          "value": "left",
          "label": "t:pxu_sections.common.layout.left"
        },
        {
          "value": "center",
          "label": "t:pxu_sections.common.layout.center"
        },
        {
          "value": "right",
          "label": "t:pxu_sections.common.layout.right"
        }
      ],
      "default": "left"
    },
    {
      "type": "header",
      "content": "t:pxu_sections.common.layout.mobile_layout"
    },
    {
      "type": "select",
      "id": "mobile_image_placement",
      "label": "t:pxu_sections.common.image.mobile_image_placement",
      "options": [
        {
          "value": "column",
          "label": "t:pxu_sections.common.image.image_first"
        },
        {
          "value": "column-reverse",
          "label": "t:pxu_sections.common.image.image_second"
        }
      ],
      "default": "column"
    },
    {
      "type": "select",
      "id": "mobile_content_alignment",
      "label": "t:pxu_sections.common.layout.mobile_content_alignment",
      "options": [
        {
          "value": "left",
          "label": "t:pxu_sections.common.layout.left"
        },
        {
          "value": "center",
          "label": "t:pxu_sections.common.layout.center"
        },
        {
          "value": "right",
          "label": "t:pxu_sections.common.layout.right"
        }
      ],
      "default": "center"
    },
    {
      "type": "header",
      "content": "t:pxu_sections.common.color.color"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "t:pxu_sections.common.color.text_color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "t:pxu_sections.common.color.background_color",
      "default": "#FFFFFF"
    },
    {
      "type": "color",
      "id": "tooltip_color",
      "label": "t:pxu_sections.sections.shoppable_image.tooltip_color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "tooltip_background_color",
      "label": "t:pxu_sections.sections.shoppable_image.tooltip_background_color",
      "default": "#FFFFFF"
    },
    {
      "type": "color",
      "id": "tooltip_link_color",
      "label": "t:pxu_sections.sections.shoppable_image.tooltip_link_color",
      "default": "#056e82"
    },
    {
      "type": "header",
      "content": "t:pxu_sections.common.animations.animations"
    },
    {
      "type": "checkbox",
      "id": "enable_animations",
      "label": "t:pxu_sections.common.animations.enable_animations",
      "default": true
    },
    {
      "type": "header",
      "content": "t:pxu_sections.common.padding.header"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "label": "t:pxu_sections.common.padding.top",
      "default": 32
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "label": "t:pxu_sections.common.padding.bottom",
      "default": 32
    },
    {
      "type": "header",
      "content": "t:pxu_sections.common.margin.header"
    },
    {
      "type": "range",
      "id": "margin_top",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "label": "t:pxu_sections.common.margin.top",
      "default": 64
    },
    {
      "type": "range",
      "id": "margin_bottom",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "label": "t:pxu_sections.common.margin.bottom",
      "default": 64
    }
  ],
  "blocks": [
    {
      "type": "product",
      "name": "t:pxu_sections.common.product.product",
      "settings": [
        {
          "type": "product",
          "id": "product",
          "label": "t:pxu_sections.common.product.product"
        },
        {
          "type": "range",
          "id": "horizontal_axis",
          "min": 0,
          "max": 100,
          "step": 1,
          "unit": "%",
          "label": "t:pxu_sections.sections.shoppable_image.block_horizontal_axis",
          "default": 50
        },
        {
          "type": "range",
          "id": "vertical_axis",
          "min": 0,
          "max": 100,
          "step": 1,
          "unit": "%",
          "label": "t:pxu_sections.sections.shoppable_image.block_vertical_axis",
          "default": 50
        }
      ]
    }
  ],
  "disabled_on": {
    "groups": ["header", "footer"]
  },
  "presets": [
    {
      "name": "t:pxu_sections.sections.shoppable_image.name",
      "blocks": [
        {
          "type": "product",
          "settings": {
            "horizontal_axis": 10,
            "vertical_axis": 10
          }
        },
        {
          "type": "product",
          "settings": {
            "horizontal_axis": 10,
            "vertical_axis": 65
          }
        },
        {
          "type": "product",
          "settings": {
            "horizontal_axis": 60,
            "vertical_axis": 80
          }
        }
      ]
    }
  ]
}
{% endschema %}